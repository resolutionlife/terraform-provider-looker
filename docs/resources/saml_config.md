---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "looker_saml_config Resource - terraform-provider-looker"
subcategory: ""
description: |-
  This resource updates the SAML config in a looker instance.
---

# looker_saml_config (Resource)

This resource updates the SAML config in a looker instance.

## Example Usage

```terraform
data "looker_role" "viewer" {
  name = "Viewer"
}

# TODO: data source not yet supported
data "looker_group" "all_users" {
  name = "All Users"
}

resource "looker_saml_config" "saml" {
  enabled    = true
  idp_cert   = "mycert"
  idp_url    = "https://mydomain.com/samlp/metadata/123456"
  idp_issuer = "urn:mydomain.com"

  user_attribute_map_email      = "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"
  user_attribute_map_first_name = "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname"
  user_attribute_map_last_name  = "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"
  new_user_migration_types      = ["email"]

  default_new_user_role_ids  = [data.looker_role.viewer.id]
  default_new_user_group_ids = [data.looker_group.all_users.id]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Allows roles to be directly assigned to SAML auth'd users.
- `idp_cert` (String, Sensitive) Identity Provider Certificate (provided by IdP)
- `idp_issuer` (String) Identity Provider Issuer (provided by IdP)
- `idp_url` (String) Identity Provider Url (provided by IdP)
- `user_attribute_map_email` (String) Name of user record attributes used to indicate email address field
- `user_attribute_map_first_name` (String) Name of user record attributes used to indicate first name
- `user_attribute_map_last_name` (String) Name of user record attributes used to indicate last name

### Optional

- `allow_direct_roles` (Boolean) Allows roles to be directly assigned to SAML auth'd users.
- `allow_normal_group_membership` (Boolean) Allow SAML auth'd users to be members of non-reflected Looker groups. If 'false', user will be removed from non-reflected groups on login.
- `allow_roles_from_normal_groups` (Boolean) SAML auth'd users will inherit roles from non-reflected Looker groups.
- `allowed_clock_drift` (Number) Count of seconds of clock drift to allow when validating timestamps of assertions.
- `alternate_email_login_allowed` (Boolean) Allow alternate email-based login via '/login/email' for admins and for specified users with the 'login_special_email' permission. This option is useful as a fallback during ldap setup, if ldap config problems occur later, or if you need to support some users who are not in your ldap directory. Looker email/password logins are always disabled for regular users when ldap is enabled.
- `auth_requires_role` (Boolean) Users will not be allowed to login at all unless a role for them is found in Saml if set to true
- `bypass_login_page` (Boolean) Bypass the login page when user authentication is required. Redirect to IdP immediately instead.
- `default_new_user_group_ids` (Set of String) Array of ids of groups that will be applied to new users the first time they login via Saml
- `default_new_user_role_ids` (Set of String) Array of ids of roles that will be applied to new users the first time they login via Saml
- `groups_attribute` (String) Name of user record attributes used to indicate groups. Used when 'groups_finder_type' is set to 'grouped_attribute_values'
- `groups_finder_type` (String) Identifier for a strategy for how Looker will find groups in the SAML response.
- `groups_member_value` (String) Value for group attribute used to indicate membership. Used when 'groups_finder_type' is set to 'individual_attributes'
- `groups_with_role_ids` (Block Set) Array of mappings between Saml Groups and arrays of Looker Role ids (see [below for nested schema](#nestedblock--groups_with_role_ids))
- `idp_audience` (String) Identity Provider Audience (set in IdP config). Optional in Looker. Set this only if you want Looker to validate the audience value returned by the IdP.
- `new_user_migration_types` (Set of String) Merge first-time saml login to existing user account by email addresses. When a user logs in for the first time via saml this option will connect this user into their existing account by finding the account with a matching email address by testing the given types of credentials for existing users. Otherwise a new user account will be created for the user.
- `set_roles_from_groups` (Boolean) Set user roles in Looker based on groups from Saml
- `user_attributes_with_ids` (Block Set) Array of mappings between Saml User Attributes and arrays of Looker User Attribute ids (see [below for nested schema](#nestedblock--user_attributes_with_ids))

### Read-Only

- `id` (String) This is set to a random value at create time

<a id="nestedblock--groups_with_role_ids"></a>
### Nested Schema for `groups_with_role_ids`

Required:

- `looker_group_name` (String) Name of group in Looker
- `name` (String) Name of group in Saml
- `role_ids` (Set of String) Looker Role Ids

Read-Only:

- `id` (String) Unique Id
- `looker_group_id` (String) Unique Id of group in Looker


<a id="nestedblock--user_attributes_with_ids"></a>
### Nested Schema for `user_attributes_with_ids`

Required:

- `name` (String) Name of User Attribute in Saml
- `required` (Boolean) Required to be in Saml assertion for login to be allowed to succeed
- `user_attribute_ids` (Set of String) Looker User Attribute Ids


